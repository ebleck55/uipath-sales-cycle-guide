<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Debug - UiPath Sales Guide</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-gray-50">
  <div class="min-h-screen flex items-center justify-center">
    <div class="text-center p-8 bg-white rounded-lg shadow-md max-w-md">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Admin Debug</h2>
      <p class="text-gray-600 mb-4">Testing admin interface loading...</p>
      <div id="status" class="text-sm text-gray-500">Loading...</div>
      <div id="error-details" class="mt-4 p-4 bg-red-50 text-red-800 rounded hidden"></div>
    </div>
  </div>

  <script type="module">
    const statusDiv = document.getElementById('status');
    const errorDiv = document.getElementById('error-details');
    
    try {
      statusDiv.textContent = 'Loading ContentAPI...';
      
      // Test ContentAPI loading
      const { ContentAPI } = await import('./src/api/contentAPI.js');
      window.ContentAPI = ContentAPI;
      statusDiv.textContent = '✅ ContentAPI loaded successfully';
      
      // Test data loading
      const api = new ContentAPI();
      const resources = await api.getResources();
      statusDiv.textContent = `✅ ContentAPI working - ${resources.length} resources found`;
      
      // Test AdminInterface loading
      statusDiv.textContent = 'Loading AdminInterface...';
      const { AdminInterface } = await import('./src/admin/admin.js');
      statusDiv.textContent = '✅ AdminInterface loaded successfully';
      
      // Test initialization
      statusDiv.textContent = 'Initializing AdminInterface...';
      const admin = new AdminInterface();
      statusDiv.textContent = '✅ Admin interface initialized successfully!';
      
      // Show success
      setTimeout(() => {
        statusDiv.innerHTML = '✅ All working! <br><a href="src/admin/admin.html" class="text-blue-600 hover:text-blue-800 underline">Go to Admin Interface</a>';
      }, 1000);
      
    } catch (error) {
      console.error('Debug error:', error);
      statusDiv.textContent = '❌ Error occurred';
      errorDiv.classList.remove('hidden');
      errorDiv.innerHTML = `
        <strong>Error:</strong> ${error.message}<br>
        <strong>Stack:</strong> ${error.stack}
      `;
    }
  </script>
</body>
</html>